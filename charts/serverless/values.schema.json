{
   "$schema": "http://json-schema.org/draft-07/schema#",
   "type": "object",
   "properties": {

      "workers": {
         "description": "Number of workers",
         "type": "integer"
      },
      "cpus": {
         "description": "Number of cpus per worker",
         "type": "integer"
      },
      "memory": {
         "description": "Memory per worker",
         "type": "integer"
      },
      "gpus": {
         "description": "Number of gpus per worker",
         "type": "integer"
      },
      "gpuBackend": {
         "description": "Use 'cuda' (nvidia cards) or 'rocm' (AMD cards) backend",
         "type": ["string", "null"],
         "enum": ["cuda", "rocm", null]
      },
      "gpuMemory": {
         "description": "[NVIDIA only] Maximum memory allowed to be used from the GPU vRAM.",
         "type": ["integer", "null"]
      },
      "command": {
         "description": "Command to run in the container of workers",
         "type": ["string", "null"]
      },
      "containerImage": {
         "description": "Docker image for the workers",
         "type": "string"
      },
      "restartPolicy": {
         "description": "Container restart policy [OnFailure, Always, Never]",
         "type": "string"
      },
      "port": {
         "type": "integer",
         "description": "Container port to open for external access"

      },
      "workingMemory": {
         "description": "Temporary storage to use to cache model weights (in GB), should be big enough to hold the model weights. All workers should have enough free disk to accommodate the weights.",
         "type": "integer"
      },
      "system": {
         "properties": {
            "priorityClassName": {
               "type": "string",
               "description": "PriorityClassName to use for the deployment"
            },
            "nodeSelectors": {
               "type": [
                  "object",
                  "null"
               ],
               "description": "target specific devices. Expected format -> key: value pairs, where 'value' is a list of elements"
            },
            "nodeSelectorsOps": {
               "type": "string",
               "enum": [
                  "OR",
                  "AND"
               ],
               "description": "Logical operation to use to apply to nodeSelectors. Accepted values: 'OR', 'AND'"
            },
            "jobId": {
               "type": "string",
               "description": "Id to tag spawned objects."
            }
         }
      }
   },
   "required": [
      "containerImage"
   ]
}